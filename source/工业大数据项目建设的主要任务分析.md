[TOC]

随着 “工业 4.0” 与《中国制造 2025》开始全面部署，中国工业面临从 ”中国制造” 向 “中国智造” 的转型。其核心是在新一轮科技与产业变革背景下，为制造业构建智能工厂，从而实现智能制造。在此背景下，企业发展到达转角处，需要制造升级，面临全面转型。

工业大数据则是制造业升级转型的重要战略资源。它是一种技术、一种产业，更是一个时代。为**实现以客户价值为核心的定制化产品和服务，以及全产业链的协同优化。**需要**满足用户需求定义、工业智能制造、活动协同优化**三方面的应用。在这些应用中，***工业大数据的落地需要与之相适应的技术架构作为支撑***。就现状来说，大多数企业还处在产业的初级阶段，对工业大数据的应用场景认知并不深入，但大数据在互联网企业的应用已具备成熟的技术体系和应用框架。将这些技术适配应用到每个企业的特定场景下，可以帮助企业制造升级、构建智能工厂。 

工业大数据是工业数据的总和，我们把它分成三类，即**企业信息化数据、工业物联网数据，以及外部跨界数据**。其中，企业信息化和工业物联网中机器产生的海量时序数据是工业数据规模变大的主要来源。 近年来物联网技术快速发展，**工业物联网**成为工业大数据新的、增长最快的来源之一，它能实时自动采集设备和装备运行状态数据，并对它们实施远程实时监控。最后，互联网也促进了工业与经济社会各个领域的深度融合。人们开始关注气候变化、生态约束、政治事件、自然灾害、市场变化等因素对企业经营产生的影响。于是，外部跨界数据也成为工业大数据不可忽视的来源。

## 一、工业大数据落地的第一阶段的主要建设任务:数据采集

大数据生命周期的第一阶段是数据采集阶段。工业软硬件系统本身具有较强的封闭性和复杂性，在这一阶段需要面临诸多挑战：

- 多样化的来源，供应商、第三方、IOT、

- 多样化的设备，机床、机械手臂、机器人、柔性设备、加工中心、激光机、工控机、对刀仪、切割机、焊接机、测量仪器。

- 老旧、无数字化能力的设备

- 不同设备系统的数据格式与接口协议不同

- 同一型号设备不同时间出厂的产品所包含的数据有所差异

在数据可采集的情况下，通常需要数月时间对数据格式与字段进行梳理。或者把多样性的非结构化数据进行结构化。或者对接不同的第三方数据源。这对任意一个企业来说，巨大的成本都是不可忽视的。

利用大数据应用平台则可以轻松做到：**信息电子化、协议统一化、数据标准化**。经过这三个过程可以将数据从设备和不同系统中接入到智能工厂里，且这三者的工作是独立模块化，可依据不同企业的场景进行组装适配。

![img](https://static001.geekbang.org/resource/image/3d/6c/3d50b8c6f0c271db453f9216e51a5b6c.png)

## 1、信息电子化

工业大数据更关注数据源的完整性，而不仅仅是数据的规模。通过将信息电子化，整合全流程信息，避免信息孤岛。如何信息电子化，对企业的挑战巨大。平台提供多种不同的边缘计算设备，就近将数据信息电子化，不仅可以节省计算成本，也可以降低数据分析延迟。从而完成这一多样化、跨区域、跨领域的庞大的信息电子化任务。

### ![img](https://static001.geekbang.org/resource/image/20/8b/2057346e64b04e797c9504d5f2eac38b.png)

### 1.1、设备采集

利用基于 ARM 处理器的 SCADA（Supervisory Control And Data Acquisition）系统，对西门子、三菱、台达等数十种 PLC 的数据采集，对 Fanuc、三菱、西门子 840D 等数十种主流数控系统的数据采集，将工业大数据项目实施难度和维护成本大幅降低，用户只需简单配置即可按照自己的意愿去采集想要的数据。

可同时接入 Modbus、Profibus、Profinet、CANopen、PPI、MPI、CC-Link、melsec、FOCAS 等现场总线，系统将从这些信道采集到的信号通过以太网进行传输，实现多业务数据采集。作为大数据平台的智能采集终端，支持设备种类繁多。

每个 SCADA 节点可以对应到多台临近的设备，为了更高的采集效率，使用了异步事件机制，协同、高速、并行对多台设备进行采集。采集事件一旦发出，立刻返回，采集到的数据在其后一点时间写入数据总线完成采集。每台设备的采集频率也都可以进行调整。

SCADA 系统在硬件上也提供了超强的扩展能力，千兆以太网端口、Wifi、USB、RS-232、RS-422、RS485、Sata、LCD、VGA、HDMI。硬件和接口都可以进行定制化。基于不同的业务场景，也可以配置不同的工业传感器，进行多样化的数据采集。

### 1.2、文件采集

不限于设备采集，为了降低采集终端对生产设备的影响，企业通常也会把设备数据独立采集到文件。然后平台则通过文件读取数据进行采集。平台可以从常见的远程文件系统读取这些文件。可以支持 Samba、Rsync、NFS、SSH、FTP 等协议。

### 1.3、多终端采集

移动互联网时代，大数据不仅仅只采集设备数据。利用 Web 技术，可以做到多终端运行。利用多种不同平台的终端，可以分门别类的进行数据采集。做到采集终端靠近数据源，无论何时何地，无论何种数据来源，全天候的进行采集。

**工控电脑**：贴近产线，布置于工位，可由工人进行控制，对企业所需的业务流程数据进行录入。得益于 Web 技术，针对不同的产线工作，以及不同的工人职责。系统可以根据任务流程进行自动切换，辅助工人进行工作。工控电脑除了有辅助工人进行工作的能力之外，也同时具备与 SCADA 系统一样的硬件扩展能力，且有更高的硬件性能。譬如简单的扫码与打印条码能力，也可以扩展成图像采集终端，对产线生产的产品进行图像采集。或者扩展成测量终端，对样本产品进行质量数据采集。

**移动终端**：任何数据的采集和使用都是有成本的，工业数据也不例外。但随着互联网、通信技术、传感器、物联网等技术的发展，以物联网为代表的新一代网络技术在移动数据通信的支持下，能做到任何时间、任何地点采集、传送数据。移动终端同时具备与 SCADA 系统一样的硬件扩展能力的同时，又具有工控电脑业务流程的指派能力。极大的扩展了数据采集地域。

**嵌入式设备**：在物联网（IoT）时代，无线连接无处不在，利用嵌入式设备可以针对不同的企业场景进行采集数据。相对于工控电脑与移动终端，嵌入式设备有成本少、体积小、功耗低等特点，且针对性强。因为结构的简单，能适应更复杂更恶劣的使用场景。让嵌入式设备配备不同的传感器，就可以让传统无数字化的设备信息化联网。极大的扩展了数据采集多样性。

## 2、协议统一化

工业软硬件系统的封闭性和复杂性，也带来了通信协议的复杂化。

SCADA 系统将从各类数据源获取到的数据转为 OPC-UA 信息模型，向外界提供 OPC-UA 的 TCP 协议接口。数据总线则作为各个模块获取写入数据的中间模块。

![img](https://static001.geekbang.org/resource/image/90/b7/909af1fe4b53f2531142a5cbf6e5d8b7.png)

SCADA 系统中也包含了一个协议容器，默认的实现 MODBUS 和 PROFINET 这两个实时以太网协议组件，另外还包括 OPC-UA Clinet 组件。协议容器可以很方便实现协议组件的添加。添加一个协议组件再加入对配置 XML 文件的解析就可以完成对一个新协议的扩展。

智能网关会将 SCADA、嵌入式设备 等系统采集的数据，通过 mqtt 协议实时传输给智能工厂。

![img](https://static001.geekbang.org/resource/image/10/a3/10caa83a9a071487cd3f157fd13193a3.png)

## 3、数据标准化

经过数据采集与协议统一后，我们已经将来自于各种边缘计算设备的文件、协议、接口的数据，进行了结构化。这些数据里存有大量的设备与流程信息。但这并不能直接被智能工厂所使用，为了 “数以致用”，仍然需要一次自动化的数据清洗，分门别类的将数据整合到智能工厂模型。以用于智能工厂的不同模块里，基于这些数据来完成整个工厂的数字化。

# 二、工业大数据落地的第二阶段的主要建设任务:部署企业大数据服务云

大数据生命周期的第二阶段是企业大数据服务云（基于大数据的企业转型开放平台）全面部署阶段。这样服务主要包括：身份服务、数据服务、流/批计算/服务(支持AI)、企业集成服务（ESB、消息、API网关、工作流、连接器）

# 三、工业大数据落地的第三阶段的主要建设任务:上线终端数据应用

大数据生命周期的第三阶段是企业终端数据应用全面上线阶段。这样终端应用主要包括：基于企业数据服务的若干按需定制的终端应用（仪表板、设备控制终端、小程序等）



# 素材：

精益生产排程、
制造执行系统、
生产现场可视化、
工业数据采集、
生产制造BI

实时精细数据分析服务
实时设备健康诊断与预测性维修服务
产品客户化定制在线服务
实时生产进度控制服务
实时生产流程优化服务

数据采集与监控系统SCADA （Supervisory Control And Data Acquisition）
工业大数据服务云
终端大数据应用

通过采集的生产事件数据来预测要使用的原料（零部件）数量
通过采集的生产事件数据基于规则引擎进行生产进度控制（产能不足、产能过剩检测）
通过采集的生产事件数据使用增量聚合技术高速计算特定时间段的产能
通过采集的生产事件数据使用窗口（秒…年）技术实时数据汇总

通过采集的设备状态数据进行设备预测性维护
通过采集的生产环境数据进行产品卫生质量预测

通过货场或码头智能门式起重设备采集的集装箱重量数据确定集装箱码放位置，协助搬运机器人和装载机器人进行路径和任务规划，以保证载具的平衡。

AI与制造业的结合，其根本目的是提高效率，降低成本、缩短产品研发与交付周期。大数据与与制造业的结合也一样



具体的应用考量指标：
产品研发设计周期缩短 35％、
资源有效利用率提升 30％
生产效率提高 40％，
产品质量一致性提高30%



零部件视觉检测技术是基于机器视觉的图像处理技术，视觉检测系统对整个产品进行自动检测，形成图像并对图像进行分析，然后做出决策。零部件视觉检测技术可以进行产品尺寸缺陷、表面平整度以及表面瑕疵的检测与评估。

融合互联网、大数据与人工智能制造，通过数字化打通销售、研发、生产制造、物流运输等全套环节，迈入“所见即所得，所感即所要、设计即制造、制造即服务”的AI工厂时代。

AI工厂主要由MTDS终端设计营销服务管理系统、WCC智能拆单系统、MSCS生产调度控制系统、APS+MES西门子柔性生产制造管理系统、 MCTS 物流管理信息系统构成，全流程协同、自动化与智能化的创新营销与制造模式，产品非标定制能力远超同行水平。

在生产上，AI工厂携手西门子柔性生产系统、德国豪迈系统等先进技术改造生产方式，打通信息在企业内部高效传递的闭环，自动连接管理营销、制造、行政信息化管理平台，解决作业流程管理繁杂、生产资料复杂等问题。只需扫描产品部件上含有加工信息的二维码，就能实现生产数据的实时分析、订单信息的精准定位，达成机器指挥机器的全环节信息化生产过程，实现动智能化、信息化和个性化的大规模定制生产。



AI与大数据：
AI依托机器学习（数据挖掘与数据科学的算法）。这些算法不是按照静态、预设的规则或者指令，而是通过分析大量的数据来学习，然后利用所得洞察生成预测或者训练预测模型。



制造商可以利用AI促进研发努力，从而优化设计，改进对客户需求和期望的响应并且简化生产。AI支持生成式产品设计，根据既定目标和约束利用算法探索各种可能的设计解决方案。通过迭代式测试和学习，AI算法优化设计，推荐在人类看来非传统的解决方案。一些航天公司正在利用生成式设计以全新的设计开发飞行器部件，比如提供跟传统设计功能相同但是却轻便许多的仿生学结构。

生成式产品设计：根据既定目标和约束利用算法探索各种可能的设计方案。然后通过迭代式测试评估寻找到最优的设计方案。

![1552444446310](assets/1552444446310.png)